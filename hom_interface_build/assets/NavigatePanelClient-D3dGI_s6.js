import{r as p,C as _,M,E as v,a_ as l,j as e,d as w,a$ as E,u as z,T as N,b0 as I,P as R,b as L,a0 as A,b1 as k,Y as S,b2 as x,b3 as U,b4 as P,b5 as T,b6 as q,b7 as B,b8 as F,b9 as V,ba as D,at as G,bb as O,bc as H,m as K,bd as W}from"./index-mfvvmLL4.js";import{m as h,G as Y}from"./messagesEventManager-GJJOKxl-.js";function Z(){const{client:a}=p.useContext(_),{setModalContent:d}=p.useContext(M),[s,c]=p.useState(a!=null&&a.logo?[a.logo]:[]),[m]=v(),t=m.get(l.URL_NAME)===l.VALUE,n=()=>{a&&d({componentName:"modal_display_upload_image",components:e.jsx(w,{children:e.jsx(E,{client_id:a.id,setFiles:c,onAction:o})})})},o=async r=>{if(!a)return;const i=await z(a.id,{logo_id:r[0]});i&&c([i.logo])};return e.jsxs("div",{"data-ismenuresized":t,className:"w-[100px] h-[100px] md:w-[40px] md:h-[40px] md:data-[ismenuresized=false]:w-[80px] md:data-[ismenuresized=false]:h-[80px] rounded-full overflow-hidden cursor-pointer border-4 border-primary-100 dark:border-light",children:[e.jsx("img",{src:s!=null&&s.length?s[0].url:"https://via.placeholder.com/100",alt:"",className:"w-full h-full object-contain",onClick:n}),e.jsx("div",{id:"loading",className:"w-full h-full bg-zinc-800/50 absolute top-0 left-0 justify-center items-center hidden",children:e.jsx("div",{className:"w-[40px] h-[40px] border-2 border-t-primary-300 rounded-full animate-spin"})})]})}function $(){const{client:a}=p.useContext(_),{setModalContent:d}=p.useContext(M),s=p.useRef(null),c=({currentTarget:t})=>{var i,u;t.dataset.overlay=!1,t.style.display=!1;const n=(i=s.current)==null?void 0:i.querySelector("input"),o=s.current,r=(u=s.current)==null?void 0:u.querySelector("div[data-save]");n&&o&&r&&(o.classList.add("border"),n.classList.remove("disabled"),r.dataset.save=!0)},m=async()=>{var i,u,g;const t=(i=s.current)==null?void 0:i.querySelector("input"),n=s.current,o=(u=s.current)==null?void 0:u.querySelector("div[data-save]"),r=(g=s.current)==null?void 0:g.querySelector("div[data-overlay]");if(a){const j=t==null?void 0:t.value.split(" "),[y,f]=j||[];y&&f?(await z(a==null?void 0:a.id,{fullname:t==null?void 0:t.value}),t&&n&&o&&(n.classList.remove("border"),t.classList.add("disabled"),o.dataset.save=!1,r.dataset.overlay=!0,t.blur())):d({componentName:"modal_error_name",components:e.jsx(R,{message:"Digite seu nome e sobrenome",type:"WARNING",componentName:"modal_error_name"})})}};return e.jsx(N,{tip:"2 cliques para editar seu nome",children:e.jsxs("div",{className:"w-full px-2 flex justify-center gap-2 items-center rounded-lg relative",ref:s,children:[e.jsx("div",{className:"w-full h-full absolute data-[overlay=false]:hidden",onDoubleClick:c,"data-testid":"test-display","data-overlay":!0}),e.jsx("input",{type:"text",className:"text-xl bg-transparent text-primary-100 dark:text-light text-center font-bold cursor-default whitespace-nowrap text-ellipsis overflow-hidden",onKeyDown:t=>t.code==="Enter"&&m(),defaultValue:a==null?void 0:a.fullname}),e.jsx("div",{"data-save":!1,onClick:m,className:"bg-light rounded-full justify-center items-center hidden data-[save=true]:flex",children:e.jsx(I,{className:"fill-green-500 text-2xl cursor-pointer","data-testid":"button-save"})})]})})}const J=({})=>{const{setModalContent:a,clearModal:d}=p.useContext(M),{client:s}=p.useContext(_),c=L(),[m]=v(),t=m.get(l.URL_NAME)===l.VALUE,n=()=>{function r(){localStorage.removeItem("token"),d("modal_confirm_exit_panel"),c("/login")}a({componentName:"modal_confirm_exit_panel",components:e.jsx(w,{children:e.jsx(S,{title:"Tem certeza que deseja sair do painel?",confirmFunction:r,cancelFuntion:()=>d("modal_confirm_exit_panel")})})})},o=()=>{c("/panel?tab=config")};return s&&e.jsx("div",{className:"w-full flex flex-col gap-2 justify-center items-center relative",children:e.jsxs("div",{className:"w-4/5 pb-2 flex flex-col justify-center items-center gap-2 border-b border-primary-100 dark:border-light/30",children:[e.jsxs("div",{className:"w-full flex justify-center gap-2 items-end",children:[e.jsx(N,{tip:"Edite seu perfil",children:e.jsx(A,{"data-ismenuresized":t,className:"text-2xl cursor-pointer hover:animate-spin md:data-[ismenuresized=true]:hidden fill-primary-100 dark:fill-light",onClick:o})}),e.jsx(Z,{}),e.jsx(N,{tip:"Sair do seu painel",children:e.jsx(k,{"data-ismenuresized":t,className:"text-2xl cursor-pointer -scale-x-100 fill-primary-100 dark:fill-light hover:fill-red-500 transition-colors duration-200 md:data-[ismenuresized=true]:hidden",onClick:n})})]}),e.jsxs("div",{"data-ismenuresized":t,className:"w-full flex flex-col md:data-[ismenuresized=true]:hidden",children:[e.jsx($,{}),e.jsx("h3",{"data-ismessages":h(s.plan_management).maxMessages,className:"flex gap-1 justify-center items-center text-primary-100 dark:text-light font-bold data-[ismessages='0']:hidden",children:h(s.plan_management).input+" / "+h(s.plan_management).maxMessages}),e.jsxs("h3",{"data-ismessages":h(s.plan_management).maxBonus,className:"flex gap-1 justify-center items-center bg-primary-300 p-1 rounded-lg border border-primary-100 text-primary-100 dark:text-light font-bold data-[ismessages='0']:hidden",children:["Bônus",e.jsx("span",{children:h(s.plan_management).reminingMessagesBonus+" / "+h(s.plan_management).maxBonus})]})]})]})})},C=[{tab:"my_chats",name:"Meus chats",Icon:P},{tab:"artificial_intelligence",name:"Inteligência artificial",Icon:Y},{tab:"products",name:"Meus produtos",Icon:T},{tab:"metrics",name:"Métricas",Icon:q},{tab:"records",name:"Registros",Icon:B,topics:[{tab:"conversations",name:"Conversas",Icon:F},{tab:"leads",name:"Leads",Icon:V}]},{tab:"payment",name:"Assinatura",Icon:D}];function Q(){const[a,d]=v(),s=p.useRef(null),c=a.get(l.URL_NAME)!==l.VALUE,m=a.get(x.url_name)===x.default_values.open,t=n=>{var y;const o=n.currentTarget,r=o.dataset.tab,i=(y=s.current)==null?void 0:y.querySelectorAll("div[data-container='topic']");if(!r)return;const u=C.find(f=>f.tab===r);u!=null&&u.topics?(g(r),a.get(l.URL_NAME)&&(a.set(G,r),a.delete(l.URL_NAME),d(a))):(j(r),!(o.dataset.container==="sub_topic")&&g(r));function g(f){i==null||i.forEach(b=>{b.classList.remove("hidden"),b.classList.add("hidden")}),i==null||i.forEach(b=>{b.dataset.tab===f&&b.classList.toggle("hidden")})}function j(f){a.set("tab",f),m&&a.set(x.url_name,x.default_values.close),d(a)}};return e.jsx("ul",{ref:s,className:"w-full",children:C.map((n,o)=>{var r;return e.jsxs("li",{"data-tab":Number(a.get("tab"))==o,className:"w-full flex flex-col justify-center items-end cursor-pointer text-xl",children:[e.jsxs("div",{"data-tab":n.tab,"data-ismenuresize":c,className:"w-full p-2 pl-2 flex gap-2 items-center justify-between md:data-[ismenuresize=false]:justify-center group",onClick:t,children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(n.Icon,{className:"group-hover:fill-primary-100 text-primary-100 dark:text-light text-xl transition-colors duration-100"}),e.jsx("h2",{"data-textisbig":n.name.length>20,className:"md:group-data-[ismenuresize=false]:hidden group-hover:text-primary-100 data-[textisbig=true]:text-lg whitespace-nowrap",children:n.name})]}),e.jsx(U,{"data-hastopic":!!((r=n==null?void 0:n.topics)!=null&&r.length),className:"md:group-data-[ismenuresize=false]:hidden data-[hastopic=false]:hidden self-center"})]}),e.jsx("div",{"data-container":"topic","data-tab":n.tab,className:"w-[90%] flex-col hidden",children:n.topics&&n.topics.map(i=>e.jsxs("div",{"data-container":"sub_topic","data-tab":i.tab,"data-ismenuresize":c,className:"w-full flex items-center gap-2 group md:data-[ismenuresize=false]:hidden",onClick:t,children:[e.jsx(i.Icon,{className:"group-hover:fill-primary-100 text-primary-100 dark:text-light text-base transition-colors duration-100"}),e.jsx("h2",{className:"text-base group-hover:text-primary-100",children:i.name})]},i.tab))})]},n.name)})})}const X=()=>{const[a,d]=v(),s=a.get(l.URL_NAME)===l.VALUE,c=()=>{a.get(l.URL_NAME)?a.delete(l.URL_NAME):a.set(l.URL_NAME,l.VALUE),d(a)};return e.jsx("div",{"data-ismenuresize":s,className:"hidden md:flex w-full data-[ismenuresize=false]:justify-end justify-center",children:s?e.jsx(O,{className:"text-4xl fill-primary-100 dark:fill-zinc-100 cursor-pointer","data-control-arrow":"right",onClick:c}):e.jsx(H,{className:"text-4xl fill-primary-100 dark:fill-zinc-100 cursor-pointer","data-control-arrow":"left",onClick:c})})};function se(){const[a]=v(),d=a.get(l.URL_NAME)===l.VALUE,s=a.get(x.url_name)===x.default_values.open;return e.jsx("div",{"data-isresizemenu":d,"data-isopenmobilemenu":s,className:"w-full md:w-[250px] fixed z-30 md:relative md:data-[isresizemenu=true]:w-[70px] bg-primary-100 rounded-b-md md:rounded-none",children:e.jsxs("div",{"data-isopenmobilemenu":s,className:"flex flex-col min-h-screen py-4 md:py-0 data-[isopenmobilemenu='false']:hidden md:data-[isopenmobilemenu='false']:flex bg-gradient-to-b from-primary-100 via-light to-light dark:to-primary-300 dark:via-primary-300",children:[e.jsx(K,{urlParamName:x.url_name,className:"md:hidden"}),e.jsx(W,{}),e.jsxs("nav",{className:"w-full h-full py-0 my-4 relative",children:[e.jsx(J,{}),e.jsx(Q,{})]}),e.jsx(X,{})]})})}export{se as default};
