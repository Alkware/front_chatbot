import{r as c,M as v,C,j as e,I as q,a as I,B as z,l as N,u as L,P as y,F as D,b as R,T as g,c as A,d as b,e as P,f as T,g as O,h as E,A as F,i as V,t as $,k as B,m as U,n as H,_ as S,o as W,s as G,p as X,L as Y}from"./index-7Pftrs69.js";function J({modalName:t}){const{clearModal:i,setModalContent:n}=c.useContext(v),{client:l}=c.useContext(C),d=c.useRef(null),m=()=>{i(t)},a=async()=>{var r,f,x;const s=(f=(r=d.current)==null?void 0:r.querySelector("input"))==null?void 0:f.value,p=(x=d.current)==null?void 0:x.querySelector("button");if(N(p,!0),!!l){if(s&&(s.length===11||s.length===14||s.length===18)){const _=s.replaceAll(".","").replaceAll("/","").replaceAll("-","");await L(l.id,{cpf_cnpj:_})&&(n({componentName:"modal_success_save_cpf_cnpj",components:e.jsx(y,{componentName:"modal_success_save_cpf_cnpj",message:"Dado salvo com sucesso!"})}),i(t))}else n({componentName:"modal_failed_save_cpf_cnpj",components:e.jsx(y,{componentName:"modal_failed_save_cpf_cnpj",message:"Cpf ou cnpj inválido! Tente novamente",type:"WARNING"})});N(p,!1)}};return e.jsxs("div",{className:"bg-light dark:bg-dark rounded-md p-4 flex flex-col items-center",children:[e.jsx("h2",{className:"font-bold text-2xl text-orange-500",children:"AVISO"}),e.jsx("p",{className:"text-medium text-lg text-orange-700",children:"Você ainda não registrou seu cpf ou cnpj..."}),e.jsxs("p",{className:"text-center opacity-80 text-orange-700/90",children:["Para manter a segurança da sua conta,",e.jsx("br",{})," é necessário que você salve em nosso sistema seu cpf ou cnpj."]}),e.jsxs("div",{className:"w-full mt-8",ref:d,children:[e.jsx(q,{name:"cpf_cnpj",title:"Digite seu cpf ou cnpj",mask:I}),e.jsxs("div",{className:"w-full flex mt-8 justify-evenly items-center",children:[e.jsx("span",{className:"underline opacity-80 cursor-pointer",onClick:m,children:"Deixar para depois"}),e.jsx(z,{onClick:a,children:"Salvar"})]})]})]})}function K(t){const i=Number(new Date),n=Number(new Date(t)),d=(i-n)/(1e3*3600);return Math.floor(d)}function Q({onClick:t}){return e.jsx("div",{id:"background-tour",className:"fixed top-0 left-0 z-0 w-screen h-screen bg-black/50 group-data-[show=false]:hidden",onClick:t})}function Z({children:t}){return e.jsx("div",{className:"fixed z-10 top-0 right-0 w-screen md:w-[60vw] h-screen flex justify-end items-center transition-transform group-data-[show=false]:translate-x-[calc(100vw_-_2.5rem)] md:group-data-[show=false]:translate-x-[calc(60vw_-_2.5rem)]",children:t})}function ee({onClick:t}){return e.jsx("div",{id:"btn-tutorial",className:"w-10 bg-white",onClick:t,children:e.jsx("div",{className:"-rotate-90",children:e.jsx("span",{className:"text-2xl text-light font-bold cursor-pointer p-2 px-4 rounded-tr-lg rounded-tl-lg bg-primary-100",children:"Tutorial"})})})}function te({children:t}){return e.jsx("div",{className:"w-full h-full bg-primary-100 dark:bg-primary-200 border-l-2 border-primary-50 p-4 overflow-y-auto py-8 ",children:t})}function ae({tour:t,index:i,modelSize:n}){var a;const{setModalContent:l,clearModal:d}=c.useContext(v),m=({currentTarget:s})=>{var x,_;const{id:p}=s,r=(x=s.closest("div"))==null?void 0:x.querySelector("div#container-stages"),f=Math.floor(((_=r==null?void 0:r.querySelector("div"))==null?void 0:_.getBoundingClientRect().width)||0);p==="scroll-left"?r==null||r.scrollBy({left:-100,behavior:"smooth"}):r==null||r.scrollBy({left:+f,behavior:"smooth"})};return e.jsxs("div",{"data-completed":t.completed,"data-display":t.display,className:"group w-full h-full max-h-[70vh] data-[display=false]:h-auto flex gap-4 items-start",children:[e.jsxs("div",{className:"w-[5%] h-full relative py-1 flex justify-center items-start group-data-[completed=false]:opacity-50 group-data-[display=true]:opacity-100",children:[e.jsx("div",{"data-display":i!==n-1,className:"h-full w-[1px] bg-white absolute top-1 -z-0 left-1/2 data-[display=false]:hidden"}),t.completed?e.jsx(D,{className:"size-5 fill-green-500 bg-white rounded-full relative z-0"}):e.jsx(R,{className:"size-5 fill-red-500 bg-white rounded-full relative z-0"})]}),e.jsxs("div",{className:"w-[90%] flex flex-col group-data-[completed=false]:opacity-50 group-data-[display=true]:opacity-100",children:[e.jsx(g.h3,{className:"w-full font-bold text-lg text-left text-light",children:t.title}),e.jsxs("div",{className:"w-full group-data-[display=false]:hidden overflow-hidden",children:[e.jsx(g.h3,{className:"p-1 italic text-light ",children:"Fazer manualmente"}),e.jsxs("div",{className:"w-full relative",children:[e.jsx(A,{id:"scroll-left",className:"size-10 fill-white cursor-pointer absolute top-1/2 left-0 opacity-50 transition-opacity hover:opacity-100",onClick:m}),e.jsx("div",{id:"container-stages",className:"w-full flex gap-4 p-2 overflow-hidden snap-mandatory snap-x",children:(a=t.stages)==null?void 0:a.map((s,p)=>e.jsxs("div",{className:"w-full flex-none flex flex-col items-center gap-2 snap-start",children:[e.jsxs("div",{className:"w-full flex items-start justify-center gap-1 ",children:[e.jsx("span",{className:"w-10 bg-primary-100 rounded-full flex justify-center font-bold",children:p+1}),e.jsx(g.h3,{className:"text-left",children:s.title})]}),e.jsx("img",{src:s.image,alt:s.title,className:"max-w-[200px] object-contain cursor-pointer z-40 transition-transform",onClick:()=>{l({componentName:"modal_show_image",components:e.jsxs(b,{children:[e.jsx(P,{onClick:()=>d("modal_show_image"),className:"absolute top-2 right-2 size-6 cursor-pointer"}),e.jsx("img",{src:s.image,alt:s.title,className:"max-w-[500px] object-contain rounded-md"})]})})}})]},s.title))}),e.jsx(T,{id:"scroll-right",className:"size-10 fill-white cursor-pointer absolute top-1/2 right-0  opacity-50 transition-opacity hover:opacity-100",onClick:m})]}),e.jsx(g.h3,{className:"p-1 italic ",children:"ou"}),e.jsx("div",{className:"flex justify-evenly",children:t.buttons.map(s=>e.jsxs("a",{href:s.url,target:s.target,onClick:()=>s.target==="_blank"&&window.location.reload(),className:"my-4 p-2 px-4 bg-primary-100 rounded-md cursor-pointer flex gap-2 items-center",children:[e.jsx(O,{})," ",s.text||"Link rapído"]},s.url))})]})]})]})}function k(t){var i,n,l,d,m,a,s,p,r;return t?[{title:"Crie sua primeira inteligência artificial:",stages:[{title:'No canto esquerdo da sua tela existe um menu de navegação, procure por "Inteligência artificial."',image:"https://wipzee-files.online/create-ai.png"},{title:'Agora basta clicar em cima de um slot vazio para criar sua primeira inteligência artificial."',image:"https://wipzee-files.online/tour-create-ai.png"}],buttons:[{url:`/create-ai/${t.plan_management.id}`,target:"_parent"}],completed:!!t.plan_management.artificial_intelligence.length,display:!t.plan_management.artificial_intelligence.length},{title:"Crie seu primeiro chat:",stages:[{title:'Agora no menu de navegação procure por "meus chats"',image:"https://wipzee-files.online/tour-create-chat.png"},{title:'Basta clicar em cima de um slot vazio para criar seu primeiro chat."',image:"https://wipzee-files.online/tour-create-chat-2.png"}],buttons:[{url:`/create-chat/${t.plan_management.id}`,target:"_parent"}],completed:!!t.plan_management.project.length,display:!!t.plan_management.artificial_intelligence.length&&!t.plan_management.project.length},{title:"Teste seu chat:",stages:[{title:'Agora no menu de navegação procure por "meus chats"',image:"https://wipzee-files.online/tour-create-chat.png"},{title:'Clique no icone mostrado abaixo:"',image:"https://wipzee-files.online/tour-get-link.png"},{title:'Agora aqui no link para abrir seu chat"',image:"https://wipzee-files.online/tour-get-link-3.png"},{title:"Você também pode usar o atalho que fica sobre a imagem do seu chat",image:"https://wipzee-files.online/tour-get-link-2.png"}],buttons:[{url:`https://chat.wipzee.com/${(i=t.plan_management.project[0])==null?void 0:i.slug}`,target:"_blank"}],completed:!!((l=(n=t.plan_management.project[0])==null?void 0:n.message_manager[0])!=null&&l.messages.length),display:!!t.plan_management.project.length&&!((m=(d=t.plan_management.project[0])==null?void 0:d.message_manager[0])!=null&&m.messages.length)},{title:"Adicione seus produtos:",stages:[{title:'Agora no menu de navegação procure por "meus produtos"',image:"https://wipzee-files.online/tour-add-product.png"},{title:'Clique em "Adicionar categoria"',image:"https://wipzee-files.online/tour-add-product-1.png"},{title:'Escolha o nome da categoria do seu produto/serviço e clique em "Criar categoria"',image:"https://wipzee-files.online/tour-add-product-2.png"},{title:"Agora você escolhe o tipo de oferta, se seu produto é um produto fisico ou se é um serviço.",image:"https://wipzee-files.online/tour-add-product-3%20(1).png"}],buttons:[{url:`/create-product/${t.plan_management.id}/null`,target:"_parent",text:"Crie seu produto"},{url:`/create-service/${t.plan_management.id}/null`,target:"_parent",text:"Crie seu serviço"}],completed:!!t.plan_management.products.length||!!t.plan_management.services.length,display:!t.plan_management.products.length&&!t.plan_management.services.length&&!!((s=(a=t.plan_management.project[0])==null?void 0:a.message_manager[0])!=null&&s.messages.length)},{title:"Vincule seus produtos a sua inteligência artificial:",stages:[{title:'Agora no menu de navegação procure por "Inteligência artificial"',image:"https://wipzee-files.online/create-ai.png"},{title:"Selecione sua inteligência artificial",image:"https://wipzee-files.online/tour-linked-product.png"},{title:'Na aba "Vincule seus produtos", Clique no botão "+"',image:"https://wipzee-files.online/tour-linked-product%20(1).png"},{title:"Agora basta clicar sobre os produtos e serviços que você deseja que sua IA tenha conhecimento.",image:"https://wipzee-files.online/tour-linked-product%20(2).png"},{title:"No canto inferior esquerdo, basta clicar no icone de salvar e pronto! seu chat está pronto para o uso!",image:"https://wipzee-files.online/tour-linked-product%20(3).png"}],buttons:[{url:"/panel?tab=artificial_intelligence",target:"_parent"}],completed:!!((p=t.plan_management.artificial_intelligence[0])!=null&&p.ai_products_Services.length),display:(!!t.plan_management.products.length||!!t.plan_management.services.length)&&!((r=t.plan_management.artificial_intelligence[0])!=null&&r.ai_products_Services.length)}]:[]}async function se(t){const i=await E.post(`${F}/feedback/create`,t).catch(n=>console.error(n));if(i)return i.data}function ne(){const{setModalContent:t}=c.useContext(v);return{dispatchSystemError:({message:n,path:l})=>{V({level:"danger",log:n,path:l,sector:"Plataforma"}),t({componentName:"modal_failed",components:e.jsx(y,{componentName:"modal_failed",message:n,type:"ERROR"})})}}}function oe({children:t,flex:i,className:n,...l}){return e.jsx("div",{className:$("flex items-center gap-1",i,n),...l,children:t})}const w={Container:oe};function ie({title:t,description:i,imageDecoration:n}){const{client:l}=c.useContext(C),{setModalContent:d,clearModal:m}=c.useContext(v),[a,s]=c.useState(),{dispatchSystemError:p}=ne(),r=["Horrível","Ruim","Regular","Bom","Otímo"],f=({rating:u,message:h})=>{const o=Number(u);s(j=>({rating:o||(j==null?void 0:j.rating),message:h||(j==null?void 0:j.message)}))},x=async()=>{if(!l)return;if(!(a!=null&&a.rating)){d({componentName:"modal_empty_rating",components:e.jsx(y,{componentName:"modal_empty_rating",message:"Avalie nosso tutorial antes de finalizar",type:"WARNING"})});return}if(!await se({topic:"tutorial",rating:a==null?void 0:a.rating,message:a==null?void 0:a.message,client_id:l.id})){p({message:"Falha ao tentar enviar o feedback, não se preocupe, nossa equipe já está reparando, e tudo voltará ao normal em breve",path:"src/components/Feedback/Feedback.tsx"});return}d({componentName:"modal_success_send_feedback",components:e.jsx(y,{componentName:"modal_success_send_feedback",message:"Muito obrigado pelo seu feedback! Isso nos ajuda a estar melhorando todos os dias!",functionAfterComplete:()=>m(null,{clearLast:!0})})})},_=({currentTarget:u})=>{const h=u.closest("div"),o=h==null?void 0:h.querySelector("div[data-id='container-textarea']");if(o==null?void 0:o.classList.contains("hidden")){o==null||o.classList.remove("hidden");const M=setTimeout(()=>{o==null||o.classList.remove("opacity-0"),o==null||o.classList.add("opacity-100"),clearTimeout(M)},100);u.textContent="Ocultar o comentário?"}else o==null||o.classList.add("hidden","opacity-0"),o==null||o.classList.remove("opacity-100"),u.textContent="Deseja deixar um comentário?"};return e.jsxs("div",{className:"w-full max-w-[500px] flex flex-col gap-4 items-center p-4",children:[n&&e.jsx("img",{src:n,alt:`Imagem decorativa sobre ${t}`,className:"max-w-32"}),e.jsx(g.h2,{className:"text-center",children:t}),e.jsx(g.h3,{className:"text-center",children:i}),e.jsxs(w.Container,{flex:"flex-col",children:[e.jsx(g.h3,{className:"font-bold text-center",children:"Oque você achou do tutorial da wipzee?"}),e.jsx(w.Container,{children:r.map((u,h)=>e.jsxs(w.Container,{"data-active":(a==null?void 0:a.rating)===h+1,flex:"flex-col",className:"relative group",children:[e.jsx(B,{id:(h+1).toString(),className:"size-9 hover:fill-primary-100 hover:opacity-100 cursor-pointer opacity-70 group-data-[active=true]:fill-primary-100 group-data-[active=true]:opacity-100",onClick:o=>f({rating:o.currentTarget.id})},h),e.jsx("span",{className:"invisible group-hover:visible group-data-[active=true]:visible",children:u})]},u))})]}),e.jsxs(w.Container,{flex:"flex-col",className:"w-full gap-4",children:[e.jsx(g.link,{onClick:_,className:"mb-2",children:"Deseja deixar um comentário?"}),e.jsx(U,{name:"message",title:"Diga-nos oque achou:",classListContainer:"hidden opacity-0 transition-opacity duration-500",onChange:u=>f({message:u.currentTarget.value})})]}),e.jsx(z,{customClass:"mt-8",onClick:x,children:"Concluir"})]})}function le({}){const{client:t}=c.useContext(C),{setModalContent:i}=c.useContext(v),[n,l]=c.useState(),d=c.useRef(null);c.useEffect(()=>{const a=k(t);!a.find(p=>!p.completed)&&i({componentName:"modal_complete_tour",components:e.jsx(b,{blockCloseModalWithClickBackground:!0,children:e.jsx(ie,{title:"Parabens!! Você finalizou o tutorial!",description:"Ajude-nos a aprimorar ainda mais sua experiência em nossa plataforma.",imageDecoration:"https://wipzee-files.online/Young%20and%20happy-pana.svg"})})}),l(a)},[]);const m=async()=>{const a=d.current,s=a==null?void 0:a.querySelector("div#background-tour");if(!s||!a)return;const p=(a==null?void 0:a.dataset.show)==="true";if(p)s==null||s.classList.add("hidden");else{if(!t)return;const r=await H(t==null?void 0:t.id),f=k(r);l(f),s==null||s.classList.remove("hidden")}a.dataset.show=(!p).toString()};return!!n&&(t==null?void 0:t.tutorial)&&e.jsxs("div",{ref:d,"data-show":!n[0].completed,className:"group",children:[e.jsx(Q,{onClick:m}),e.jsxs(Z,{children:[e.jsx(ee,{onClick:m}),e.jsxs(te,{children:[e.jsx(g.h2,{className:"md:text-2xl font-bold text-light",children:"Vamos criar seu primeiro chat passo a passo:"}),e.jsx("div",{className:"w-full h-full flex flex-col my-8",children:n?n==null?void 0:n.map((a,s)=>e.jsx(ae,{tour:a,index:s,modelSize:n.length},a.title)):e.jsx(g.h2,{children:"Não há nada para mostrar aqui"})})]})]})]})}const re=c.lazy(()=>S(()=>import("./MainPanelClient-AWtRcPAl.js"),__vite__mapDeps([0,1,2,3]))),ce=c.lazy(()=>S(()=>import("./NavigatePanelClient-VOoHUitY.js"),__vite__mapDeps([4,1,2,3])));function de(){const{setClient:t,client:i}=c.useContext(C),{setModalContent:n}=c.useContext(v),l=c.useRef(null),d=W();return c.useEffect(()=>{(async()=>{var s;G();const m=localStorage.getItem("token");if(!m)return;const a=await X(m);if(!a){d("/login");return}!((s=a.client)!=null&&s.cpf_cnpj)&&K(a.client.created_at)>24&&n({componentName:"modal_save_cpf_cnpj",components:e.jsx(b,{children:e.jsx(J,{modalName:"modal_save_cpf_cnpj"})})}),t(a.client)})()},[]),e.jsx("div",{ref:l,className:"w-screen min-h-screen flex items-center text-primary-100 dark:text-light bg-light dark:bg-dark",children:i?e.jsxs("div",{className:"w-full h-full flex justify-start md:justify-center items-start teste",children:[e.jsx(ce,{}),e.jsx(re,{}),e.jsx(le,{})]}):e.jsx(Y,{})})}const me=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));export{me as P,K as c};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/MainPanelClient-AWtRcPAl.js","assets/index-7Pftrs69.js","assets/index-3DsQtd3m.css","assets/messagesEventManager-uwWCwUM3.js","assets/NavigatePanelClient-VOoHUitY.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
