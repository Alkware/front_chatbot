function n(s){const i=s.project.reduce((c,o)=>c+o.message_manager.reduce((t,a)=>t+a.messages.reduce((g,d)=>g+(d.player==="user"?1:0),0),0),0),m=s?s.project.reduce((c,o)=>c+o.message_manager.reduce((t,a)=>t+a.messages.reduce((g,d)=>g+(d.player==="assistant"?1:0),0),0),0):0,e=i+m,r=s?Number(s.plan.max_messages.default):0,u=s?Number(s.plan.max_messages.bonus):0;return{input:i,output:m,totalMessages:e,maxMessages:r,maxBonus:u,reminingMessages:r-e<0?0:r-e,reminingMessagesBonus:r-e>=0?u:u-(e-r)}}export{n as m};
