import{r as p,C as _,M,V as v,b3 as l,j as e,d as w,b4 as I,u as z,y,b5 as R,P as E,o as L,ab as k,b6 as A,a8 as S,b7 as x,b8 as U,b9 as P,ba as T,bb as B,bc as q,bd as F,be as V,bf as D,aB as G,bg as O,bh as H,G as K,bi as W}from"./index-7Pftrs69.js";import{m as h,G as Z}from"./messagesEventManager-uwWCwUM3.js";function J(){const{client:a}=p.useContext(_),{setModalContent:d}=p.useContext(M),[t,c]=p.useState(a!=null&&a.logo?[a.logo]:[]),[m]=v(),n=m.get(l.URL_NAME)===l.VALUE,s=()=>{a&&d({componentName:"modal_display_upload_image",components:e.jsx(w,{children:e.jsx(I,{client_id:a.id,setFiles:c,onAction:o})})})},o=async i=>{if(!a)return;const r=await z(a.id,{logo_id:i[0]});r&&c([r.logo])};return e.jsxs("div",{"data-ismenuresized":n,className:"w-[100px] h-[100px] md:w-[40px] md:h-[40px] md:data-[ismenuresized=false]:w-[80px] md:data-[ismenuresized=false]:h-[80px] rounded-full overflow-hidden cursor-pointer border-4 border-primary-100 dark:border-light",children:[e.jsx("img",{src:t!=null&&t.length?t[0].url:"https://via.placeholder.com/100",alt:"",className:"w-full h-full object-contain",onClick:s}),e.jsx("div",{id:"loading",className:"w-full h-full bg-zinc-800/50 absolute top-0 left-0 justify-center items-center hidden",children:e.jsx("div",{className:"w-[40px] h-[40px] border-2 border-t-primary-300 rounded-full animate-spin"})})]})}function Q(){const{client:a}=p.useContext(_),{setModalContent:d}=p.useContext(M),t=p.useRef(null),c=({currentTarget:n})=>{var r,u;n.dataset.overlay=!1,n.style.display=!1;const s=(r=t.current)==null?void 0:r.querySelector("input"),o=t.current,i=(u=t.current)==null?void 0:u.querySelector("div[data-save]");s&&o&&i&&(o.classList.add("border"),s.classList.remove("disabled"),i.dataset.save=!0)},m=async()=>{var r,u,g;const n=(r=t.current)==null?void 0:r.querySelector("input"),s=t.current,o=(u=t.current)==null?void 0:u.querySelector("div[data-save]"),i=(g=t.current)==null?void 0:g.querySelector("div[data-overlay]");if(a){const j=n==null?void 0:n.value.split(" "),[N,f]=j||[];N&&f?(await z(a==null?void 0:a.id,{fullname:n==null?void 0:n.value}),n&&s&&o&&(s.classList.remove("border"),n.classList.add("disabled"),o.dataset.save=!1,i.dataset.overlay=!0,n.blur())):d({componentName:"modal_error_name",components:e.jsx(E,{message:"Digite seu nome e sobrenome",type:"WARNING",componentName:"modal_error_name"})})}};return e.jsx(y,{tip:"2 cliques para editar seu nome",children:e.jsxs("div",{className:"w-full px-2 flex justify-center gap-2 items-center rounded-lg relative",ref:t,children:[e.jsx("div",{className:"w-full h-full absolute data-[overlay=false]:hidden",onDoubleClick:c,"data-testid":"test-display","data-overlay":!0}),e.jsx("input",{type:"text",className:"text-xl bg-transparent text-primary-100 dark:text-light text-center font-bold cursor-default whitespace-nowrap text-ellipsis overflow-hidden",onKeyDown:n=>n.code==="Enter"&&m(),defaultValue:a==null?void 0:a.fullname}),e.jsx("div",{"data-save":!1,onClick:m,className:"bg-light rounded-full justify-center items-center hidden data-[save=true]:flex",children:e.jsx(R,{className:"fill-green-500 text-2xl cursor-pointer","data-testid":"button-save"})})]})})}const X=({})=>{const{setModalContent:a,clearModal:d}=p.useContext(M),{client:t,setClient:c}=p.useContext(_),m=L(),[n]=v(),s=n.get(l.URL_NAME)===l.VALUE,o=()=>{function r(){c(void 0),localStorage.removeItem("token"),d("modal_confirm_exit_panel"),m("/login")}a({componentName:"modal_confirm_exit_panel",components:e.jsx(w,{children:e.jsx(S,{title:"Tem certeza que deseja sair do painel?",confirmFunction:r,cancelFuntion:()=>d("modal_confirm_exit_panel")})})})},i=()=>{m("/panel?tab=config")};return t&&e.jsx("div",{className:"w-full flex flex-col gap-2 justify-center items-center relative",children:e.jsxs("div",{className:"w-4/5 pb-2 flex flex-col justify-center items-center gap-2 border-b border-primary-100 dark:border-light/30",children:[e.jsxs("div",{className:"w-full flex justify-center gap-2 items-end",children:[e.jsx(y,{tip:"Edite seu perfil",children:e.jsx(k,{"data-ismenuresized":s,className:"text-2xl cursor-pointer hover:animate-spin md:data-[ismenuresized=true]:hidden fill-primary-100 dark:fill-light",onClick:i})}),e.jsx(J,{}),e.jsx(y,{tip:"Sair do seu painel",children:e.jsx(A,{"data-ismenuresized":s,className:"text-2xl cursor-pointer -scale-x-100 fill-primary-100 dark:fill-light hover:fill-red-500 transition-colors duration-200 md:data-[ismenuresized=true]:hidden",onClick:o})})]}),e.jsxs("div",{"data-ismenuresized":s,className:"w-full flex flex-col md:data-[ismenuresized=true]:hidden",children:[e.jsx(Q,{}),e.jsx("h3",{"data-ismessages":h(t.plan_management).maxMessages,className:"flex gap-1 justify-center items-center text-primary-100 dark:text-light font-bold data-[ismessages='0']:hidden",children:h(t.plan_management).input+" / "+h(t.plan_management).maxMessages}),e.jsxs("h3",{"data-ismessages":h(t.plan_management).maxBonus,className:"flex gap-1 justify-center items-center bg-primary-300 p-1 rounded-lg border border-primary-100 text-primary-100 dark:text-light font-bold data-[ismessages='0']:hidden",children:["Bônus",e.jsx("span",{children:h(t.plan_management).reminingMessagesBonus+" / "+h(t.plan_management).maxBonus})]})]})]})})},C=[{tab:"my_chats",name:"Meus chats",Icon:P},{tab:"artificial_intelligence",name:"Inteligência artificial",Icon:Z},{tab:"products",name:"Meus produtos",Icon:T},{tab:"metrics",name:"Métricas",Icon:B},{tab:"records",name:"Registros",Icon:q,topics:[{tab:"conversations",name:"Conversas",Icon:F},{tab:"leads",name:"Leads",Icon:V}]},{tab:"payment",name:"Assinatura",Icon:D}];function Y(){const[a,d]=v(),t=p.useRef(null),c=a.get(l.URL_NAME)!==l.VALUE,m=a.get(x.url_name)===x.default_values.open,n=s=>{var N;const o=s.currentTarget,i=o.dataset.tab,r=(N=t.current)==null?void 0:N.querySelectorAll("div[data-container='topic']");if(!i)return;const u=C.find(f=>f.tab===i);u!=null&&u.topics?(g(i),a.get(l.URL_NAME)&&(a.set(G,i),a.delete(l.URL_NAME),d(a))):(j(i),!(o.dataset.container==="sub_topic")&&g(i));function g(f){r==null||r.forEach(b=>{b.classList.remove("hidden"),b.classList.add("hidden")}),r==null||r.forEach(b=>{b.dataset.tab===f&&b.classList.toggle("hidden")})}function j(f){a.set("tab",f),m&&a.set(x.url_name,x.default_values.close),d(a)}};return e.jsx("ul",{ref:t,className:"w-full",children:C.map(s=>{var o;return e.jsxs("li",{"data-tab":a.get("tab")===s.tab,className:"group w-full flex flex-col justify-center items-end cursor-pointer text-xl data-[tab=true]:text-light data-[tab=true]:bg-primary-100 dark:data-[tab=true]:bg-dark",children:[e.jsxs("div",{"data-tab":s.tab,"data-ismenuresize":c,className:"w-full p-2 pl-2 flex gap-2 items-center justify-between md:data-[ismenuresize=false]:justify-center group",onClick:n,children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(s.Icon,{className:"text-primary-100 dark:text-light group-data-[tab=true]:text-light text-xl transition-colors duration-100"}),e.jsx("h2",{"data-textisbig":s.name.length>20,className:"md:group-data-[ismenuresize=false]:hidden data-[textisbig=true]:text-lg whitespace-nowrap",children:s.name})]}),e.jsx(U,{"data-hastopic":!!((o=s==null?void 0:s.topics)!=null&&o.length),className:"md:group-data-[ismenuresize=false]:hidden data-[hastopic=false]:hidden self-center"})]}),e.jsx("div",{"data-container":"topic","data-tab":s.tab,className:"w-[90%] flex-col hidden",children:s.topics&&s.topics.map(i=>e.jsxs("div",{"data-container":"sub_topic","data-tab":i.tab,"data-ismenuresize":c,className:"w-full flex items-center gap-2 group md:data-[ismenuresize=false]:hidden",onClick:n,children:[e.jsx(i.Icon,{className:" text-primary-100 dark:text-light text-base transition-colors duration-100"}),e.jsx("h2",{className:"text-base",children:i.name})]},i.tab))})]},s.name)})})}const $=()=>{const[a,d]=v(),t=a.get(l.URL_NAME)===l.VALUE,c=()=>{a.get(l.URL_NAME)?a.delete(l.URL_NAME):a.set(l.URL_NAME,l.VALUE),d(a)};return e.jsx("div",{"data-ismenuresize":t,className:"hidden md:flex w-full data-[ismenuresize=false]:justify-end justify-center",children:t?e.jsx(O,{className:"text-4xl fill-primary-100 dark:fill-zinc-100 cursor-pointer","data-control-arrow":"right",onClick:c}):e.jsx(H,{className:"text-4xl fill-primary-100 dark:fill-zinc-100 cursor-pointer","data-control-arrow":"left",onClick:c})})};function te(){const[a]=v(),d=a.get(l.URL_NAME)===l.VALUE,t=a.get(x.url_name)===x.default_values.open;return e.jsx("div",{"data-isresizemenu":d,"data-isopenmobilemenu":t,className:"w-full md:w-[250px] fixed z-50 md:static md:z-0 md:data-[isresizemenu=true]:w-[70px] bg-primary-100 rounded-b-md md:rounded-none",children:e.jsxs("div",{"data-isopenmobilemenu":t,className:"flex flex-col min-h-screen py-4 md:py-0 data-[isopenmobilemenu='false']:hidden md:data-[isopenmobilemenu='false']:flex bg-gradient-to-b from-primary-100 via-light to-light dark:to-primary-300 dark:via-primary-300",children:[e.jsx(K,{urlParamName:x.url_name,className:"md:hidden"}),e.jsx(W,{}),e.jsxs("nav",{className:"w-full h-full py-0 my-4 relative",children:[e.jsx(X,{}),e.jsx(Y,{})]}),e.jsx($,{})]})})}export{te as default};
